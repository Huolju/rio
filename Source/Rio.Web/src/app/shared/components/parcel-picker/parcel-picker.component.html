<parcel-map #parcelsMap mapID="parcelsMap" mapHeight="500px" [zoomMapToDefaultExtent]="false" [visibleParcelIDs]="visibleParcelIDs"
    [disableDefaultClick]="true" [selectedParcelIDs]="getSelectedParcelIDs()" [selectedParcelLayerName]="selectedParcelLayerName">
</parcel-map>

<div class="col-lg-12 m-2">
    <div id="selectedParcelsListContainer" class="table-responsive">
        <table id="selectedParcelsList" class="table">
            <thead>
                <tr>
                    <th class="text-right">APN</th>
                    <th class="text-right">Acre Feet to Transfer</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngIf="!selectedParcels?.length">
                    <td colspan="2">
                        No Parcels have been selected yet.
                    </td>
                </tr>
                <tr *ngFor="let selectedParcel of selectedParcels">
                    <td class="text-right">
                        <a (click)="removeParcel(selectedParcel.ParcelID)"><span class="fa fa-trash-alt text-muted"></span></a>                                
                        {{selectedParcel.ParcelNumber}}
                    </td>
                    <td class="text-right"><input type="number" style="width: 80px" min="1" step="1" [(ngModel)]="selectedParcel.AcreFeetTransferred" required /></td>
                </tr>
            </tbody>
            <tfoot *ngIf="selectedParcels?.length">
                <tr>
                    <td class="text-right">Total Entered</td>
                    <td class="text-right">
                        {{getTotalEntered() | number: '1.1-1'}}
                    </td>
                </tr>
                <tr>
                    <td class="text-right">Total Still Needed</td>
                    <td class="text-right">
                        {{getQuantityNeeded() | number: '1.1-1'}}
                    </td>
                </tr>
                <tr>
                    <th class="text-right">Total Required</th>
                    <th class="text-right">
                        {{maxTotalQuantity | number: '1.1-1'}}
                    </th>
                </tr>
            </tfoot>
        </table>
        <ng-content></ng-content>
    </div>
</div>